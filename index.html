<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kasir Apotek</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 20px;
    }
    select, button {
      padding: 8px;
      margin-right: 10px;
      font-size: 16px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
    }
    .total {
      font-weight: bold;
      font-size: 18px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <h1>Kasir Apotek</h1>

  <select id="obatSelect">
    <option value="">-- Pilih Obat --</option>
  </select>
  <button onclick="tambahObat()">Tambah ke Keranjang</button>
  <button onclick="resetKeranjang()">Reset</button>

  <table id="keranjang">
    <thead>
      <tr>
        <th>Nama Obat</th>
        <th>Harga</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div class="total" id="totalHarga">Total: Rp 0</div>

  <script>
    const daftarObat = {
      "ACYCLOVIR 400": 56500,
      "ACYCLOVIR CR": 4000,
      "ALLOPURINOL": 20500,
      "AMLODIPIN 10MG HJ": 49000,
      "AMLODIPIN 5MG HJ": 26500,
      "ANDALAN PIL": 15500,
      "ANTASIDA POT": 9000,
      "AXAPROFEN": 44000,
      "BINTAMOX SYR": 9000,
      "BIOPLACENTON": 29000,
      "CALCIFAR": 21000,
      "CALCIFAR PLUS": 23000,
      "CAVIPLEX SYR": 12000,
      "CEFIXIM SYR": 11000,
      "CETERIZIN": 24500,
      "CETERIZIN SYR": 5500,
      "COMBANTRIN CAIR": 27500,
      "CTM": 10000,
      "CTM POT": 4000,
      "DEXAMETHASON 0,5": 9000,
      "DEXTAF": 20500,
      "DEXTEEM PLUS": 31500,
      "DICLOFENAC SODIUM": 21000,
      "EMTURNAS TAB": 23500,
      "ERLA SM": 12000,
      "ERLA TM": 12000,
      "ERPHAFLAM": 23000,
      "ETABION": 29000,
      "ETAMOX": 60500,
      "ETAMOX FORTE SYR": 10500,
      "ETAMOX SYR": 7500,
      "FASIDOL FORTE SYR": 8000,
      "FLACOID 0,5 POT": 5500,
      "FLUCADEX SYR": 10500,
      "GASTRUCID SYR": 8500,
      "GIOVAN BIRU": 10500,
      "GIOVAN PINK": 11000,
      "HIDROCORTISON": 5500,
      "HUFAXOL SYR": 6500,
      "ITRABAT": 12500,
      "KAOTIN SYR": 9500,
      "KASSA KOTAK": 9000,
      "KERTAS PUYER": 9500,
      "KETOKONAZOLE CR": 4000,
      "KETOKONAZOLE TAB": 25500,
      "KLIP BESAR": 22000,
      "KLIP SEDANG": 7500,
      "LANSOPRAZOLE": 14000,
      "METAMIZOLE": 35500,
      "METRONIDAZOLE TAB": 25500,
      "METYLPREDNISOLON 4": 25500,
      "MIRATRIM SYR": 8000,
      "MOLACORT 0,75": 33000,
      "MYCROGYNON": 23500,
      "NISAGON": 7500,
      "OBH ITRASAL": 8000,
      "OMEDOM": 25000,
      "OMEDOM SYR": 6000,
      "ONDANSETRON 4": 50000,
      "ONDANSETRON 8": 75000,
      "ONDANSETRON INJ": 4000,
      "ORALIT": 34000,
      "PACETIK": 23000,
      "PACETIK SYR": 5500,
      "PIROXICAM 20": 14000,
      "PREDINSON POT": 11500,
      "PREDNISON": 15000,
      "PYREXIN 80 SUPP": 7500,
      "QUANTIDEX SYR": 9000,
      "RANITIDIN": 23000,
      "RANITIDIN INJ": 6500,
      "ROVERTON SYR": 6000,
      "SALBRON 2MG": 25500,
      "SALBRON 4MG": 27500,
      "SAMCONAL": 18500,
      "SELTIFORT SYR": 7500,
      "SPASMINAL": 78000,
      "SUCRALFATE SYR": 13000,
      "TERNIK PLUS SYR": 7500,
      "TERNIK SYR": 7000,
      "TRIANTA": 26500,
      "TRIANTA SYR": 8000,
      "VESPERUM DROP": 13000,
      "VESPERUM SYR": 8000,
      "ZENSODERM": 7500,
      "ZULTROP": 32500,
      "TRISELA SYR": 7500,
      "MIRASIC TAB": 32000,
      "ASMEF HJ": 25000,
      "VITAMIN C POT": 28000
    };

   const selectEl = document.getElementById('obatSelect');
    const tbodyEl = document.querySelector('#keranjang tbody');
    const totalEl = document.getElementById('totalHarga');

    // Isi dropdown dari daftar obat
    for (const nama in daftarObat) {
      const option = document.createElement('option');
      option.value = nama;
      option.textContent = nama + " - Rp " + formatRupiah(daftarObat[nama]);
      selectEl.appendChild(option);
    }

    let keranjang = [];

    function tambahObat() {
      const selected = selectEl.value;
      if (!selected) return;
      keranjang.push({ nama: selected, harga: daftarObat[selected] });
      updateKeranjang();
    }

    function resetKeranjang() {
      if (confirm("Yakin ingin mengosongkan keranjang?")) {
        keranjang = [];
        updateKeranjang();
      }
    }

    function updateKeranjang() {
      tbodyEl.innerHTML = '';
      let total = 0;
      keranjang.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${item.nama}</td>
          <td>Rp ${formatRupiah(item.harga)}</td>
        `;
        tbodyEl.appendChild(row);
        total += item.harga;
      });
      totalEl.textContent = "Total: Rp " + formatRupiah(total);
    }

    function formatRupiah(angka) {
      return angka.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    }
  </script>

</body>
</html>
